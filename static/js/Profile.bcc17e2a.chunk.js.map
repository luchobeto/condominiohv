{"version":3,"sources":["components/Profile.js"],"names":["EditProfileSettings","React","memo","props","isUser","to","className","FollowUserButton","classes","user","following","onClick","ev","preventDefault","unfollow","username","follow","mapStateToProps","state","articleList","currentUser","common","profile","Profile","this","onLoad","Promise","all","agent","get","match","params","Articles","byAuthor","onUnload","src","image","alt","bio","onFollow","onUnfollow","renderTabs","pager","articles","articlesCount","currentPage","PureComponent","connect","dispatch","type","FOLLOW_USER","payload","PROFILE_PAGE_LOADED","UNFOLLOW_USER","PROFILE_PAGE_UNLOADED"],"mappings":"oWAYMA,EAAsBC,IAAMC,MAAK,SAAAC,GACrC,OAAIA,EAAMC,OAEN,eAAC,IAAD,CACEC,GAAG,YACHC,UAAU,8CAFZ,UAGE,mBAAGA,UAAU,eAHf,wBAOG,QAGHC,EAAmBN,IAAMC,MAAK,SAAAC,GAClC,GAAIA,EAAMC,OACR,OAAO,KAGT,IAAII,EAAU,wBACVL,EAAMM,KAAKC,UACbF,GAAW,iBAEXA,GAAW,yBAYb,OACE,yBACEF,UAAWE,EACXG,QAZgB,SAAAC,GAClBA,EAAGC,iBACCV,EAAMM,KAAKC,UACbP,EAAMW,SAASX,EAAMM,KAAKM,UAE1BZ,EAAMa,OAAOb,EAAMM,KAAKM,WAK1B,UAGE,mBAAGT,UAAU,mBAHf,OAKGH,EAAMM,KAAKC,UAAY,WAAa,SALvC,IAKkDP,EAAMM,KAAKM,eAK3DE,EAAkB,SAAAC,GAAK,kCACxBA,EAAMC,aADkB,IAE3BC,YAAaF,EAAMG,OAAOD,YAC1BE,QAASJ,EAAMI,WAgBXC,E,uKACJ,WACEC,KAAKrB,MAAMsB,OAAOC,QAAQC,IAAI,CAC5BC,IAAML,QAAQM,IAAIL,KAAKrB,MAAM2B,MAAMC,OAAOhB,UAC1Ca,IAAMI,SAASC,SAAST,KAAKrB,MAAM2B,MAAMC,OAAOhB,e,kCAIpD,WACES,KAAKrB,MAAM+B,a,wBAGb,WACE,OACE,qBAAI5B,UAAU,+BAAd,UACE,oBAAIA,UAAU,WAAd,SACE,cAAC,IAAD,CACEA,UAAU,kBACVD,GAAE,YAAOmB,KAAKrB,MAAMmB,QAAQP,UAF9B,gCAOF,oBAAIT,UAAU,WAAd,SACE,cAAC,IAAD,CACEA,UAAU,WACVD,GAAE,YAAOmB,KAAKrB,MAAMmB,QAAQP,SAA1B,cAFJ,2C,oBAUR,WACE,IAAMO,EAAUE,KAAKrB,MAAMmB,QAC3B,IAAKA,EACH,OAAO,KAGT,IAAMlB,EAASoB,KAAKrB,MAAMiB,aACxBI,KAAKrB,MAAMmB,QAAQP,WAAaS,KAAKrB,MAAMiB,YAAYL,SAEzD,OACE,sBAAKT,UAAU,eAAf,UAEE,qBAAKA,UAAU,YAAf,SACE,qBAAKA,UAAU,YAAf,SACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,kCAAf,UAEE,qBAAK6B,IAAKb,EAAQc,OAAS,4DAA6D9B,UAAU,WAAW+B,IAAKf,EAAQP,WAC1H,6BAAKO,EAAQP,WACb,4BAAIO,EAAQgB,MAEZ,cAACtC,EAAD,CAAqBI,OAAQA,IAC7B,cAACG,EAAD,CACEH,OAAQA,EACRK,KAAMa,EACNN,OAAQQ,KAAKrB,MAAMoC,SACnBzB,SAAUU,KAAKrB,MAAMqC,sBAQ/B,qBAAKlC,UAAU,YAAf,SACE,qBAAKA,UAAU,MAAf,SAEE,sBAAKA,UAAU,kCAAf,UAEE,qBAAKA,UAAU,kBAAf,SACGkB,KAAKiB,eAGR,cAAC,IAAD,CACEC,MAAOlB,KAAKrB,MAAMuC,MAClBC,SAAUnB,KAAKrB,MAAMwC,SACrBC,cAAepB,KAAKrB,MAAMyC,cAC1B1B,MAAOM,KAAKrB,MAAM0C,4B,GAjFZ5C,IAAM6C,eA4FbC,sBAAQ9B,GAzGI,SAAA+B,GAAQ,MAAK,CACtCT,SAAU,SAAAxB,GAAQ,OAAIiC,EAAS,CAC7BC,KAAMC,IACNC,QAASvB,IAAML,QAAQP,OAAOD,MAEhCU,OAAQ,SAAA0B,GAAO,OAAIH,EAAS,CAAEC,KAAMG,IAAqBD,aACzDX,WAAY,SAAAzB,GAAQ,OAAIiC,EAAS,CAC/BC,KAAMI,IACNF,QAASvB,IAAML,QAAQT,SAASC,MAElCmB,SAAU,kBAAMc,EAAS,CAAEC,KAAMK,UA+FpBP,CAA6CxB","file":"static/js/Profile.bcc17e2a.chunk.js","sourcesContent":["import ArticleList from './ArticleList';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport agent from '../agent';\nimport { connect } from 'react-redux';\nimport {\n  FOLLOW_USER,\n  UNFOLLOW_USER,\n  PROFILE_PAGE_LOADED,\n  PROFILE_PAGE_UNLOADED\n} from '../constants/actionTypes';\n\nconst EditProfileSettings = React.memo(props => {\n  if (props.isUser) {\n    return (\n      <Link\n        to=\"/settings\"\n        className=\"btn btn-sm btn-outline-secondary action-btn\">\n        <i className=\"ion-gear-a\"></i> Cambiar tu perfil\n      </Link>\n    );\n  }\n  return null;\n});\n\nconst FollowUserButton = React.memo(props => {\n  if (props.isUser) {\n    return null;\n  }\n\n  let classes = 'btn btn-sm action-btn';\n  if (props.user.following) {\n    classes += ' btn-secondary';\n  } else {\n    classes += ' btn-outline-secondary';\n  }\n\n  const handleClick = ev => {\n    ev.preventDefault();\n    if (props.user.following) {\n      props.unfollow(props.user.username)\n    } else {\n      props.follow(props.user.username)\n    }\n  };\n\n  return (\n    <button\n      className={classes}\n      onClick={handleClick}>\n      <i className=\"ion-plus-round\"></i>\n      &nbsp;\n      {props.user.following ? 'Unfollow' : 'Follow'} {props.user.username}\n    </button>\n  );\n});\n\nconst mapStateToProps = state => ({\n  ...state.articleList,\n  currentUser: state.common.currentUser,\n  profile: state.profile\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onFollow: username => dispatch({\n    type: FOLLOW_USER,\n    payload: agent.Profile.follow(username)\n  }),\n  onLoad: payload => dispatch({ type: PROFILE_PAGE_LOADED, payload }),\n  onUnfollow: username => dispatch({\n    type: UNFOLLOW_USER,\n    payload: agent.Profile.unfollow(username)\n  }),\n  onUnload: () => dispatch({ type: PROFILE_PAGE_UNLOADED })\n});\n\nclass Profile extends React.PureComponent {\n  componentDidMount() {\n    this.props.onLoad(Promise.all([\n      agent.Profile.get(this.props.match.params.username),\n      agent.Articles.byAuthor(this.props.match.params.username)\n    ]));\n  }\n\n  componentWillUnmount() {\n    this.props.onUnload();\n  }\n\n  renderTabs() {\n    return (\n      <ul className=\"nav nav-pills outline-active\">\n        <li className=\"nav-item\">\n          <Link\n            className=\"nav-link active\"\n            to={`/@${this.props.profile.username}`}>\n            Mis Artículos\n          </Link>\n        </li>\n\n        <li className=\"nav-item\">\n          <Link\n            className=\"nav-link\"\n            to={`/@${this.props.profile.username}/favorites`}>\n            Artículos favoritos\n          </Link>\n        </li>\n      </ul>\n    );\n  }\n\n  render() {\n    const profile = this.props.profile;\n    if (!profile) {\n      return null;\n    }\n\n    const isUser = this.props.currentUser &&\n      this.props.profile.username === this.props.currentUser.username;\n\n    return (\n      <div className=\"profile-page\">\n\n        <div className=\"user-info\">\n          <div className=\"container\">\n            <div className=\"row\">\n              <div className=\"col-xs-12 col-md-10 offset-md-1\">\n\n                <img src={profile.image || 'https://static.productionready.io/images/smiley-cyrus.jpg'} className=\"user-img\" alt={profile.username} />\n                <h4>{profile.username}</h4>\n                <p>{profile.bio}</p>\n\n                <EditProfileSettings isUser={isUser} />\n                <FollowUserButton\n                  isUser={isUser}\n                  user={profile}\n                  follow={this.props.onFollow}\n                  unfollow={this.props.onUnfollow}\n                  />\n\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"container\">\n          <div className=\"row\">\n\n            <div className=\"col-xs-12 col-md-10 offset-md-1\">\n\n              <div className=\"articles-toggle\">\n                {this.renderTabs()}\n              </div>\n\n              <ArticleList\n                pager={this.props.pager}\n                articles={this.props.articles}\n                articlesCount={this.props.articlesCount}\n                state={this.props.currentPage} />\n            </div>\n\n          </div>\n        </div>\n\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);\nexport { Profile, mapStateToProps };\n"],"sourceRoot":""}