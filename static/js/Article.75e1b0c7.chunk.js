(this["webpackJsonpreact-redux-realworld-example-app"]=this["webpackJsonpreact-redux-realworld-example-app"]||[]).push([[0],{78:function(e,t,r){"use strict";r.r(t);var s=r(15),c=r(16),n=r(18),a=r(17),o=r(3),i=r(11),l=r(0),u=r.n(l),m=r(7),j=r(10),d=r(2),b=r(1),h=function(e){var t=e.article;return e.canModify?Object(b.jsxs)("span",{children:[Object(b.jsxs)(i.a,{to:"/editor/".concat(t.slug),className:"btn btn-outline-secondary btn-sm",children:[Object(b.jsx)("i",{className:"ion-edit"})," Edita Art\xedculo"]}),Object(b.jsxs)("button",{className:"btn btn-outline-danger btn-sm",onClick:function(){e.onClickDelete(m.a.Articles.del(t.slug))},children:[Object(b.jsx)("i",{className:"ion-trash-a"})," Borra Art\xedculo"]})]}):Object(b.jsx)("span",{})},p=Object(j.c)((function(){return{}}),(function(e){return{onClickDelete:function(t){return e({type:d.m,payload:t})}}}))(u.a.memo(h)),O=function(e){var t=e.article;return Object(b.jsxs)("div",{className:"article-meta",children:[Object(b.jsx)(i.a,{to:"/@".concat(t.author.username),children:Object(b.jsx)("img",{src:t.author.image||"https://static.productionready.io/images/smiley-cyrus.jpg",alt:t.author.username})}),Object(b.jsxs)("div",{className:"info",children:[Object(b.jsx)(i.a,{to:"/@".concat(t.author.username),className:"author",children:t.author.username}),Object(b.jsx)("span",{className:"date",children:new Date(t.createdAt).toDateString()})]}),Object(b.jsx)(p,{canModify:e.canModify,article:t})]})},x=Object(l.memo)(O),f=function(e){Object(n.a)(r,e);var t=Object(a.a)(r);function r(){var e;return Object(s.a)(this,r),(e=t.call(this)).state={body:""},e.setBody=function(t){e.setState({body:t.target.value})},e.createComment=function(t){t.preventDefault();var r=m.a.Comments.create(e.props.slug,{body:e.state.body});e.setState({body:""}),e.props.onSubmit(r)},e}return Object(c.a)(r,[{key:"render",value:function(){return Object(b.jsxs)("form",{className:"card comment-form",onSubmit:this.createComment,children:[Object(b.jsx)("div",{className:"card-block",children:Object(b.jsx)("textarea",{className:"form-control",placeholder:"Escribe un comentario...",value:this.state.body,onChange:this.setBody,rows:"3"})}),Object(b.jsxs)("div",{className:"card-footer",children:[Object(b.jsx)("img",{src:this.props.currentUser.image||"https://static.productionready.io/images/smiley-cyrus.jpg",className:"comment-author-img",alt:this.props.currentUser.username}),Object(b.jsx)("button",{className:"btn btn-sm btn-primary",type:"submit",children:"Grabar"})]})]})}}]),r}(u.a.PureComponent),g=Object(j.c)((function(){return{}}),(function(e){return{onSubmit:function(t){return e({type:d.a,payload:t})}}}))(u.a.memo(f)),y=function(e){return e.show?Object(b.jsx)("span",{className:"mod-options",children:Object(b.jsx)("i",{className:"ion-trash-a",onClick:function(){var t=m.a.Comments.delete(e.slug,e.commentId);e.onClick(t,e.commentId)}})}):null},v=Object(j.c)((function(){return{}}),(function(e){return{onClick:function(t,r){return e({type:d.n,payload:t,commentId:r})}}}))(u.a.memo(y)),N=function(e){var t=e.comment,r=e.currentUser&&e.currentUser.username===t.author.username;return Object(b.jsxs)("div",{className:"card",children:[Object(b.jsx)("div",{className:"card-block",children:Object(b.jsx)("p",{className:"card-text",children:t.body})}),Object(b.jsxs)("div",{className:"card-footer",children:[Object(b.jsx)(i.a,{to:"/@".concat(t.author.username),className:"comment-author",children:Object(b.jsx)("img",{src:t.author.image||"https://static.productionready.io/images/smiley-cyrus.jpg",className:"comment-author-img",alt:t.author.username})}),"\xa0",Object(b.jsx)(i.a,{to:"/@".concat(t.author.username),className:"comment-author",children:t.author.username}),Object(b.jsx)("span",{className:"date-posted",children:new Date(t.createdAt).toDateString()}),Object(b.jsx)(v,{show:r,slug:e.slug,commentId:t.id})]})]})},U=u.a.memo(N),k=function(e){return Object(b.jsx)("div",{children:e.comments.map((function(t){return Object(b.jsx)(U,{comment:t,currentUser:e.currentUser,slug:e.slug},t.id)}))})},C=u.a.memo(k),w=function(e){return e.currentUser?Object(b.jsxs)("div",{className:"col-xs-12 col-md-8 offset-md-2",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("list-errors",{errors:e.errors}),Object(b.jsx)(g,{slug:e.slug,currentUser:e.currentUser})]}),Object(b.jsx)(C,{comments:e.comments,slug:e.slug,currentUser:e.currentUser})]}):Object(b.jsxs)("div",{className:"col-xs-12 col-md-8 offset-md-2",children:[Object(b.jsxs)("p",{children:[Object(b.jsx)(i.a,{to:"/login",children:"Registrarse"}),"\xa0or\xa0",Object(b.jsx)(i.a,{to:"/register",children:"sign up"}),"\xa0to add comments on this article."]}),Object(b.jsx)(C,{comments:e.comments,slug:e.slug,currentUser:e.currentUser})]})},D=u.a.memo(w),S=r(72),A=r.n(S),M=function(e){Object(n.a)(r,e);var t=Object(a.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"componentDidMount",value:function(){this.props.onLoad(Promise.all([m.a.Articles.get(this.props.match.params.id),m.a.Comments.forArticle(this.props.match.params.id)]))}},{key:"componentWillUnmount",value:function(){this.props.onUnload()}},{key:"render",value:function(){if(!this.props.article)return null;var e={__html:A()(this.props.article.body,{sanitize:!0})},t=this.props.currentUser&&this.props.currentUser.username===this.props.article.author.username;return Object(b.jsxs)("div",{className:"article-page",children:[Object(b.jsx)("div",{className:"banner",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h1",{children:this.props.article.title}),Object(b.jsx)(x,{article:this.props.article,canModify:t})]})}),Object(b.jsxs)("div",{className:"container page",children:[Object(b.jsx)("div",{className:"row article-content",children:Object(b.jsxs)("div",{className:"col-xs-12",children:[Object(b.jsx)("div",{dangerouslySetInnerHTML:e}),Object(b.jsx)("ul",{className:"tag-list",children:this.props.article.tagList.map((function(e){return Object(b.jsx)("li",{className:"tag-default tag-pill tag-outline",children:e},e)}))})]})}),Object(b.jsx)("hr",{}),Object(b.jsx)("div",{className:"article-actions"}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)(D,{comments:this.props.comments||[],errors:this.props.commentErrors,slug:this.props.match.params.id,currentUser:this.props.currentUser})})]})]})}}]),r}(u.a.PureComponent);t.default=Object(j.c)((function(e){return Object(o.a)(Object(o.a)({},e.article),{},{currentUser:e.common.currentUser})}),(function(e){return{onLoad:function(t){return e({type:d.f,payload:t})},onUnload:function(){return e({type:d.g})}}}))(M)}}]);
//# sourceMappingURL=Article.75e1b0c7.chunk.js.map